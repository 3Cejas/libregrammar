<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../../../../../../../../../languagetool-core/src/main/resources/org/languagetool/rules/print.xsl" title="Pretty print" ?>
<?xml-stylesheet type="text/css" href="../../../../../../../../../languagetool-core/src/main/resources/org/languagetool/rules/rules.css" title="Easy editing stylesheet" ?>
<!--
Italian Disambiguation Rules for LanguageTool
Copyright © 2013 Markus Brenneis, Daniel Naber, Jan Schreiber
-->

<rules lang="it" xsi:noNamespaceSchemaLocation="../../../../../../../../../languagetool-core/src/main/resources/org/languagetool/resource/disambiguation.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xs="http://www.w3.org/2001/XMLSchema">

    <unification feature="number">
        <equivalence type="sg">
            <token postag="NOUN.*s|ADJ.*\+s|VER:.*\+s|PRO\-.*\-S" postag_regexp="yes"/>
        </equivalence>
        <equivalence type="pl">
            <token postag="NOUN.*p|ADJ.*\+p|VER:.*\+p|PRO\-.*\-P" postag_regexp="yes"/>
        </equivalence>
    </unification>

    <unification feature="gender">
        <equivalence type="mas">
            <token postag="(NOUN-M.*)|(ADJ.*\+m\+.?)" postag_regexp="yes"/>
        </equivalence>
        <equivalence type="fem">
            <token postag="(NOUN-F.*)|(ADJ.*\+f\+.?)" postag_regexp="yes"/>
        </equivalence>
    </unification>

    <unification feature="persona">
        <equivalence type="first">
            <token postag=".*[-\+]1[-\+].*" postag_regexp="yes"></token>
        </equivalence>
        <equivalence type="second">
            <token postag=".*[-\+]2[-\+].*" postag_regexp="yes"></token>
        </equivalence>
        <equivalence type="third">
            <token postag=".*[-\+]3[-\+].*" postag_regexp="yes"></token>
        </equivalence>
    </unification>

    <!-- ============================================================================================================== -->
    <!-- Adjective Noun phrases unification -->
    <!-- ============================================================================================================== -->

    <rule name="ADJ-NOUN_1" id="UNIFY_ADJ_NOUN">
        <pattern>
            <marker>
                <unify>
                    <feature id="number"/><feature id="gender"/>
                    <token postag="ADJ.*" postag_regexp="yes"></token>
                    <token postag="NOUN.*" postag_regexp="yes"></token>
                </unify>
            </marker>
        </pattern>
        <disambig action="unify"/>
    </rule>

    <rulegroup id="IO_VERB" name="io + verb">
        <rule>
            <pattern>
                <marker>
                    <unify>
                        <feature id="number"/><feature id="persona"/>
                        <token postag="PRO-PERS-[123].*" postag_regexp="yes"></token>
                        <token postag="VER:.*" postag_regexp="yes"></token>
                    </unify>
                </marker>
            </pattern>
            <disambig action="unify"/>
        </rule>
        <rule>
            <pattern>
                <marker>
                    <unify>
                        <feature id="number"/><feature id="persona"/>
                        <token postag="PRO-PERS-[123].*" postag_regexp="yes"></token>
                        <unify-ignore><token postag="PRO-PERS-CLI.*" postag_regexp="yes"/></unify-ignore>
                        <token postag="VER:.*" postag_regexp="yes"></token>
                    </unify>
                </marker>
            </pattern>
            <disambig action="unify"/>
        </rule>
    </rulegroup>

  <rulegroup id="ROMAN_NUMBER" name="Roman number">
    <!-- 		Based on Portuguese disambiguation.xml, Tiago F. Santos, 2019-12-01		-->
    <rule>
      <pattern case_sensitive="yes">
          <token>-</token>
        <marker>
          <token regexp="yes">[ⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩⅪⅫⅬⅭⅮⅯ]+</token>
        </marker>
      </pattern>
      <disambig action="add"><wd pos="AO0CN0"/></disambig>
    </rule>
    <rule>
      <pattern case_sensitive="no">
          <token regexp="yes">(?:xc|x?l|l?x{0,3})(?:ix|i{0,3}|iv|v|vi{0,3})</token>
          <token spacebefore='no'>)</token>
      </pattern>
      <disambig action="ignore_spelling"/>
    </rule>
    <rule>
      <pattern case_sensitive="yes">
          <token regexp="yes">(?:M{0,4}(CM|CD|D?C{0,3})(?:XC|X?L|L?X{0,3})(?:IX|I{0,3}|IV|V|VI{0,3})?)|m{0,4}(cm|cd|d?c{0,3})(?:xc|x?l|l?x{0,3})(?:ix|i{0,3}|iv|v|vi{0,3})|[ⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩⅪⅫⅬⅭⅮⅯ]+
            <exception case_sensitive="yes" regexp="yes">\p{L}\p{Ll}?|[cdm]ii?</exception></token>
      </pattern>
      <disambig action="ignore_spelling"/>
    </rule>
  </rulegroup>

</rules>
